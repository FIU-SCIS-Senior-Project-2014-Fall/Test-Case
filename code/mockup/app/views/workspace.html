<script src="directives.js"></script>
<script src="angular-file-upload.min.js"></script> 
<div class="row MainBody">
        <div class="col-md-3 leftPaneWrapper">
        <div id="LeftPane" class="fadeInLeft animated ">
            <h3>Test Suites <button class="btn btn-primary pull-right" ng-click="addSuite()"><span class="glyphicon glyphicon-plus"></span></button></h3>
            <ul class="nav nav-pills nav-stacked">
              <li class="{{isActive($index)}}" ng-repeat="test in entries | orderBy:['id']">
                <a ng-click="makeActive($index)"><span class="glyphicon glyphicon-folder-open"></span>&nbsp;&nbsp;&nbsp;{{ test.name }} ({{ test.children.length }})</a>
                <div class="on-hover">
                  <textarea class="form-control" ng-model="test.summary" placeholder="Summary goes here..."></textarea>
                  <p>
                    <span class="label label-primary" ng-repeat="store in test.store">{{ store }}</span> 
                  </p>
                </div>
              </li>
            </ul>
          </div>
        </div>
        <div class="col-md-9 fadeIn animated">
          <div class="row heading">
            <div class="col-md-7">
              <div class="input-group">
                <div class="input-group-btn">
                    <button type="button" ng-file-select="onFileSelect($files)" data-multiple="true"></button>
                  <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">Context <span class="caret"></span></button>
                    <ul class="dropdown-menu" role="menu">
                      <li><a href="#">Suite</a></li>
                      <li><a href="#">Global</a></li>
                    </ul>
                </div><!-- /btn-group -->
                <input type="text" class="form-control" ng-model="search_box" placeholder="Search...">
                <span class="input-group-btn">
                  <button class="btn btn-default" type="button"><span class="glyphicon glyphicon-search"></span></button>
                </span>
              </div><!-- /input-group -->
            </div>
            <div class="col-md-5">
            <ul class="nav nav-pills pull-right fadeInDown animated">
              <li class="dropdown active">
                  <a data-toggle="dropdown">Workspace <span class="caret"></span></a>
                  <ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">
                    <li><a ng-href="/">Requested Layout</a></li>
                    <li><a ng-href="#/alternative">Alternative Layout</a></li>
                  </ul>
              </li>
              <li><a href="#">Help</a></li>
              <li><a ng-href="login.html">Logout</a></li>
              <li class="dropdown">
                  <a data-toggle="dropdown"><span class="glyphicon glyphicon-cog"></span></a>
                  <ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">
                    <li><a href="#"><span class="glyphicon glyphicon-inbox"></span> Configure Test Case Management</a></li>
                    <li><a href="#"><span class="glyphicon glyphicon-hdd"></span> Configure Repository</a></li>
                  </ul>
              </li>
            </ul>
            </div>
          </div>
  <div class="row">
      <div class="col-md-4">
        <ol class="breadcrumb">
          <li><a>Workspace</a></li>
          <li class="active">{{ suite.name }}</li>
        </ol>
      </div>
      <div class="col-md-5">
        <div class="input-group pull-right">
          <span class="input-group-addon"><span class="glyphicon glyphicon-hdd"></span> Storage</span>
          <div class="input-group-btn">
            <button type="button" class="btn btn-primary" disabled="disabled">Local</button>
            <button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown">
                TFS
              <span class="caret"></span>
            </button>
            <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenu1">
              <li role="presentation" ng-class="{active: hasStore(active, 'TFS:Server 1')}"><a role="menuitem" tabindex="-1" ng-click="toggleStore(active, 'TFS:Server 1')">Server 1</a></li>
              <li role="presentation" ng-class="{active: hasStore(active, 'TFS:Server 2')}"><a role="menuitem" tabindex="-1" ng-click="toggleStore(active, 'TFS:Server 2')">Server 2</a></li>
            </ul>
          </div>
        </div>
      </div>
      <div class="col-md-3">
        <div class="btn-group pull-right">
          <button type="button" class="btn btn-default"><span class="glyphicon glyphicon-lock"></span>&nbsp;&nbsp;&nbsp;View</button>
          <button type="button" class="btn btn-primary"><span class="glyphicon glyphicon-pencil"></span>&nbsp;&nbsp;&nbsp;Edit</button>
        </div>
      </div>
    </div>
    <div id="workspace">
      <div class="panel-group" id="accordion">
          <div class="panel panel-default">
            <div class="panel-heading">
              <div class="{{ suite.type }} arch suite-master fadeInUp animated">
                <div class="input-group input-group{{ suite.size }}">
                  <span class="input-group-addon">
                    <span class="glyphicon glyphicon-plus onlyHover" data-toggle="tooltip" data-placement="bottom"
                title="Create new test case" ng-click="addCaseClicked(active)"></span>
                    <span class="glyphicon glyphicon-remove onlyHover" data-toggle="tooltip" data-placement="bottom"
                title="Delete test suite named {{ suite.name }}" ng-click="removeEntryClicked(active)"></span>
                    <span>
                      <strong>ID: </strong> TestSuite{{suite.id}}
                    </span>
                  </span>
                  <input type="text" id="s{{ suite.id }}" e-type="suite" entry="-1" class="form-control tf-proc-control edit-title" ng-model="suite.name" tf-processkey="edit-title">
                  <div class="input-group-btn">
                    <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown"><span class="glyphicon glyphicon-ok-sign green"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="caret"></span></button>
                    <ul class="dropdown-menu dropdown-menu-right" role="menu">
                      <li><a href="#">{{ resc.filesOk }}</a></li>
                      <li class="divider"></li>
                      <li><a href="#">{{ resc.cpyChd }}</a></li>
                      <li><a href="#">{{ resc.ascFile }}</a></li>
                    </ul>
                  </div><!-- /btn-group -->
                </div><!-- /input-group -->
              </div>
            </div>
            <div id="collapse{{ suite.id }}" class="panel-collapse collapse in">
            <div class="panel-body">
              <div ng-repeat="case in suite.children | filter:search_box"> <!-- loop of the cases -->
                <div class="{{ case.type }} arch fadeInUp animated test-case {{ toggleClass($index) }}">
                  <div class="input-group input-group{{ case.size }}">
                    <span class="input-group-addon">
                      <span class="glyphicon {{ toggleButton($index) }}" data-placement="bottom"
                  title="Hide Children" ng-click="toggle($index)"></span>
                      <span class="glyphicon glyphicon-plus onlyHover" data-toggle="tooltip" data-placement="bottom"
                  title="Create new case {{ case.type }}" ng-click="addStepClicked($index, active)"></span>
                      <span class="glyphicon glyphicon-remove onlyHover" data-toggle="tooltip" data-placement="bottom"
                  title="Delete case {{ case.type }} named {{ case.name }}" ng-click="removeCaseEntryClicked(active,$index)"></span>
                  <span class="glyphicon glyphicon-move onlyHover" data-toggle="tooltip" data-placement="bottom" title="Move Ordering" ng-click=""></span>
                      <span class="id">
                        <strong>ID: </strong> TestCase{{case.id}}
                      </span>
                    </span>
                    <input type="text" id="c{{ case.id }}" e-type="case" entry="{{ $index }}" class="form-control tf-proc-control edit-title" ng-model="case.name" tf-processkey="edit-title">
                  
                    <div class="input-group-btn">
                      <button class="btn btn-primary btn-lg" data-toggle="modal" data-target="#myModal"><span class="glyphicon glyphicon-stats"></button>
                    </div>

                    
                    <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                      <div class="modal-dialog">
                        <div class="modal-content">
                          <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close<                    /span></button>
                              <h4 class="modal-title" id="myModalLabel">Test Case Metrics</h4>
                            </div>
                            <div class="modal-body">
                              ...
                            </div>
                            <div class="modal-footer">
                              <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                              <button type="button" class="btn btn-primary">Save changes</button>
                            </div>
                          </div>
                        </div>
                      </div>

                    <div class="input-group-btn">
                      <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown"><span class="glyphicon glyphicon-paperclip"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="caret"></span></button>
                    <ul class="dropdown-menu dropdown-menu-right" role="menu">
                        <li><input type="file" ng-file-select="onFileSelect($files)" multiple accept="image/*"></li>
                      </ul>
                    </div>

                    <div class="input-group-btn">
                      <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown"><span class="glyphicon glyphicon-exclamation-sign red"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="caret"></span></button>
                      <ul class="dropdown-menu dropdown-menu-right" role="menu">
                        <li><a href="#">{{ resc.filesRmv }}</a></li>
                        <li class="divider"></li>
                        <li><a ng-click="copySteps($index)">Copy Children</a></li>
                        <li ng-if="hasCopyBuffer()"><a ng-click="pasteSteps($index)">{{ resc.pasteSteps }}</a></li>
                        <li><a href="#">Link File</a></li>
                      </ul>
                    </div><!-- /btn-group -->
                  </div><!-- /input-group -->
                  <div class="item-summary">
                    <text-angular name="richEditor" ng-model="case.summary" ta-disabled='disabled' placeholder='Placeholder Text' ta-default-wrap="p">
                    </text-angular>
                    <p>
                      Testers: John, Jane&nbsp;&nbsp;&nbsp;State: null&nbsp;&nbsp;&nbsp; <button class="btn btn-default pull-right" popover-placement="top" tooltip="Dismissible popover" popover="Meta data and functionality will go here."><span class="glyphicon glyphicon-signal"></span> Metrics (0)</button> <button class="btn btn-default pull-right" popover-placement="top" tooltip="Dismissible popover" popover="Meta data and functionality will go here."><span class="glyphicon glyphicon-send"></span> Automations (0)</button> <button class="btn btn-default pull-right" popover-placement="top" tooltip="Dismissible popover" popover="Meta data and functionality will go here."><span class="glyphicon glyphicon-link"></span> Links (0)</button> <button class="btn btn-default pull-right" popover-placement="top" tooltip="Dismissible popover" popover="Meta data and functionality will go here." popover-trigger="click"><span class="glyphicon glyphicon-paperclip"></span> Attachments (0)</button>
                    </p>
                    <p>
                      <input type="text" class="no-block form-control" placeholder="New tag name...">
                      <span class="label label-default pull-right">Tag 1</span> <span class="label label-default pull-right">Tag 3</span> <span class="label label-default pull-right">Tag 2</span>
                    </p>
                  </div>
                  <div id="case-body{{ case.id }}" class="animation">
                    <div ng-repeat="step in case.children track by $index | filter:search_box"> <!-- loop of the cases -->
                      <div class="{{ step.type }} arch suite-master fadeInUp animated">
                        <div class="input-group input-group{{ step.size }}">
                          <span class="input-group-addon">
                            {{step.order}}.&nbsp; 
                            <span class="glyphicon glyphicon-remove onlyHover" data-toggle="tooltip" data-placement="bottom"
                            
                        title="Delete step named {{ step.name }}" ng-click="removeStepEntryClicked(active,$parent.$index, $index)"></span>
                        <span class="glyphicon glyphicon-move onlyHover" data-toggle="tooltip" data-placement="bottom" title="Move Ordering" ng-click=""></span>
                      <!--<span ng-if="types.indexOf(test.type) < (types.length - 1)">
                        <span class="glyphicon glyphicon-backward onlyHover" data-toggle="tooltip" data-placement="bottom"
                      title="Promote test {{ test.type }} to test {{ typeUpOne(test.type) }}" ng-click="promoteClicked($index)"></span>
                      </span>
                      <span ng-if="types.indexOf(test.type) > 0">
                        <span class="glyphicon glyphicon-forward onlyHover" data-toggle="tooltip" data-placement="bottom"
                      title="Demote test {{ test.type }} to test {{ typeDownOne(test.type) }}" ng-click="demoteClicked($index)"></span>
                      </span>-->
                          </span>
                          <div class="form-inline">
                            <div class="form-group step-title">  
                              <input type="text" id="st{{ step.id }}" e-type="step" entry="{{ $parent.$index }}" class="form-control tf-proc-control edit-title" ng-model="step.name" placeholder="Step description..." tf-processkey="edit-title">
                            </div>
                            <div class="form-group step-result">
                              <input type="text" id="str{{ step.id }}" e-type="step" entry="{{ $parent.$index }}" class="form-control tf-proc-control edit-result" ng-model="step.result" placeholder="Expected result..." tf-processkey="edit-result">
                            </div>
                          </div>
                          <div class="input-group-btn">
                            <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown"><span class="glyphicon glyphicon-exclamation-sign red"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="caret"></span></button>
                            <ul class="dropdown-menu dropdown-menu-right" role="menu">
                              <li><a href="#">{{ resc.filesRmv }}</a></li>
                              <li class="divider"></li>
                              <li><a href="#">Copy Children</a></li>
                              <li><a href="#">Link File</a></li>
                            </ul>
                          </div><!-- /btn-group -->
                        </div><!-- /input-group -->
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
    </div>
    <button class="btn btn-default" ng-click="clearStorage()">Clear Storage</button>
    <span custom-popover></span>
    </div>
    <div class="row">
        <div class="col-md-12">
          <div class="footer fadeInUp animated">

            <p><a href="http://cis.fiu.edu/" target="_blank">FIU SCIS</a> Senior Project Test Case Management for <a href="http://www.ultimatesoftware.com/" target="_blank">Ultimate Software</a></p>
          </div>
          </div>
      </div>
        </div>
      </div>


      
